apiVersion: kuttl.dev/v1beta1
kind: TestAssert
timeout: 30
collectors:
  - type: pod
    selector: app=test
  - type: command
    command: kubectl logs -l app=test -n keptn-lifecycle-toolkit-system
  - type: command
    command: kubectl describe deployment test -n keptn-lifecycle-toolkit-system
  - type: command
    command: kubectl get crd -n keptn-lifecycle-toolkit-system
  - type: command
    command: kubectl describe keptnapp,keptnappversion,keptnworkload,keptnworkloadversion,keptntask -n keptn-lifecycle-toolkit-system
---
apiVersion: apps/v1
kind: Deployment
metadata:
  labels:
    app: test
status:
  phase: Running
  readyReplicas: 1
